<h3>SAP HANA System Replication Scale Up: Cost-Optimized in Microsoft&reg; Azure&reg;</h3>

<p>Please note: The Azure and SAP HANA setup needs to be done by the user in front. This wizard will only take care about the cluster and  HANA system replication configuration. For more information, please visit the link below:</p>
<ul>
  <li><a href="https://docs.microsoft.com/en-us/azure/virtual-machines/workloads/sap/high-availability-guide-suse-pacemaker">Setting up Pacemaker on SUSE Linux Enterprise Server in Azure</a>
</ul>

<p>This programm will guide you through a cluster installation and configuration in Microsoft Azure environment. For further help and documentation, please visit the pages below:</p>
<ul>
  <li><a href="https://docs.microsoft.com/en-us/azure/virtual-machines/workloads/sap/sap-hana-high-availability">High availabilty of SAP HANA virtual machines</a></li>
  <li><a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/instance-metadata-service">Azure Instance Metadata service</a></li>
</ul>

<p>Before proceeding with the installation, please make sure of the following:</p>
<ul>
    <li>
        There are two machines with SAP HANA installed.
        <br/> Note that the machine you run the wizard on becomes the primary node in the cluster.
    </li>
    <li>
        There is a firewall configured using the SAP HANA Firewall module in Administrator Settings, and <code>HANA_HIGH_AVAILABILITY</code> and <code>HANA_SYSTEM_REPLICATION</code> services are enabled on <i>all</i> relevant network interfaces.
    </li>
    <li>
        The master ssh public key is authorized for ssh access in the secondary node, in case the ssh via password access is disabled (default on Microsoft Azure).
    </li>
    <li>
        The package yast2-sap-ha must be installed in all the nodes before this module execution (it is not installed by default on Microsoft Azure).
    </li>
    <li>
        You have created one of the following:
        <ul type="square">
            <li>
                A key in the HANA Secure User Store (using the <code>hdbuserstore</code> utility) on the primary HANA node. </br> If you are configuring a multi-tenant HANA installation (default for HANA versions 2.0 SPS01 and above), please make sure that the secure store key is properly configured for connecting to the <code>SystemDB</code>, i.e., specify port <code>3&lt;SID&gt;13</code> in the environment settings and <code>SystemDB</code> as the target database.
            </li>
            <li>
                An initial HANA backup (of the <code>SystemDB</code> and all tenant databases, in an MDC setup) on the primary HANA node.
                Please note that if you prefer to perform backup manually on HANA 2.0, you should also make sure that the SSFS keys are the same on both HANA nodes.
            </li>
        </ul>
    </li>
    <li>
        You have prepared a takeover hook script for HANA (will be prompted for at one of the following stages of the Wizard).
    </li>
    <li>
        The second node has to have a secondary, non-production HANA instance installed, <i>but not running</i>.
    </li>
    <li>
        You've created a HANA Secure User Store key <code>QASSAPDBCTRL</code> for monitoring purposes (please refer to the <i>SUSE SAP HANA SR Cost Optimized Scenario</i> best practice guide, section 4.2.7).
    </li>
    <li>
        <i>For SUSE Linux Enterprise Server version 15 and later:</i> please ensure that during the HA setup procedure the TCP port <code>8080</code> is open on the secondary node. After the HA setup is complete, please enable the <code>cluster</code> service in <code>firewalld</code> on both nodes.
    </li>
</ul>